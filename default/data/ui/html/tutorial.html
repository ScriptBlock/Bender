<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Tutorial</title>
    <link rel="shortcut icon" href="/en-US/static/@CB9362F3CB2215002A675E2B5D860015BD3F8B566C762EA5B1738D1543DE8A0A.183/img/favicon.ico" />
    <link rel="stylesheet" type="text/css" href="{{SPLUNKWEB_URL_PREFIX}}/static/build/css/bootstrap-enterprise.css" />
    <link rel="stylesheet" type="text/css" href="{{SPLUNKWEB_URL_PREFIX}}/static/css/build/pages/dashboard-simple-bootstrap.min.css" />

</head>
<body class="simplexml preload locale-en" data-splunk-version="6.5.1" data-splunk-product="enterprise">
<header>
    <a class="navSkip" href="#navSkip" tabindex="1">Screen reader users, click here to skip the navigation bar</a>
    <div class="header splunk-header">
        <div id="placeholder-splunk-bar">
            <a href="{{SPLUNKWEB_URL_PREFIX}}/app/launcher/home" class="brand" title="splunk &gt; listen to your data">splunk<strong>&gt;</strong></a>
        </div>
        <div id="placeholder-app-bar"></div>
    </div>
    <a id="navSkip"></a>
</header>


<div class="dashboard-body container-fluid main-section-body" data-role="main">
    <div class="dashboard-header clearfix">
        <h2>Tutorial</h2>
    </div>

    <div class="dashboard-row">
        <div class="dashboard-cell">
            <div class="dashboard-panel">
                <div class="panel-body">
                    <h1>Getting Started</h1>
                    <ul>
                        <li>Data</li>
                        <ul>
                            <li><a href='#' onClick="$('#tutorial_picture').attr('src', details.knowyourdata.image);$('#tutorial_detail').html(details.knowyourdata.detail_text);">Know your data</a></li>
                            <li><a href='#' onClick="$('#tutorial_picture').attr('src', details.purposetypes.image);$('#tutorial_detail').html(details.purposetypes.detail_text);">Value types</a></li>
                        </ul>
                        <li>Scene Builder</li>
                        <ul>
                            <li><a href='#' onClick="$('#tutorial_picture').attr('src', details.scenebuilder_gettingstarted.image);$('#tutorial_detail').html(details.scenebuilder_gettingstarted.detail_text);">Scene Building</a></li>
                            <li><a href='#' onClick="$('#tutorial_picture').attr('src', details.newscene.image);$('#tutorial_detail').html(details.newscene.detail_text);">Create a new scene</a></li>          
                            <li><a href='#' onClick="$('#tutorial_picture').attr('src', details.blank_scene.image);$('#tutorial_detail').html(details.blank_scene.detail_text);">The blank scene</a></li>          
                           <li><a href='#' onClick="$('#tutorial_picture').attr('src',details.addamodel.image);$('#tutorial_detail').html(details.addamodel.detail_text);">Adding a model to the scene</a></li>          
                           <li><a href='#' onClick="$('#tutorial_picture').attr('src',details.darkarm.image);$('#tutorial_detail').html(details.darkarm.detail_text);">The first model</a></li>          
                           <li><a href='#' onClick="$('#tutorial_picture').attr('src',details.scenelights.image);$('#tutorial_detail').html(details.scenelights.detail_text);">Adding generic scene lights</a></li>          
                           <li><a href='#' onClick="$('#tutorial_picture').attr('src',details.interacting.image);$('#tutorial_detail').html(details.interacting.detail_text);">Interacting with objects</a></li>          
                        </ul>
                        <li>Component Mapping</li>
                        <ul>
                            <li><a href='#' onClick="$('#tutorial_picture').attr('src', details.fieldmapping.image);$('#tutorial_detail').html(details.fieldmapping.detail_text);">Getting started</a></li>
                            <li><a href='#' onClick="$('#tutorial_picture').attr('src', details.fieldvalues.image);$('#tutorial_detail').html(details.fieldvalues.detail_text);">Field Values</a></li>
                            <li><a href='#' onClick="$('#tutorial_picture').attr('src', details.fieldedit.image);$('#tutorial_detail').html(details.fieldedit.detail_text);">Modifying existing components</a></li>
                        </ul>
                        <li>Using the visualization</li>
                        <ul>
                            <li><a href='#' onClick="$('#tutorial_picture').attr('src', details.thesearch.image);$('#tutorial_detail').html(details.thesearch.detail_text);">The search</a></li>
                            <li><a href='#' onClick="$('#tutorial_picture').attr('src', details.scenename.image);$('#tutorial_detail').html(details.scenename.detail_text);">Setting the scene name</a></li>


                        </ul>                        
                    </ul>

                </div>
            </div>

        </div>
        <div class="dashboard-cell">
            <div class="dashboard-panel">
                <div class="panel-body" style="border:1px solid black">
                    <img class="first-slide" src="" alt="First Slide" id="tutorial_picture"/>
                </div>
            </div>

        </div>
    </div>
    <div class="dashboard-row">
        <div class="dashboard-cell">
            <div class="dashboard-panel">
                <div class="panel-body" style="border:1px solid black">
                    <div style="padding:20px" id="tutorial_detail"></div>
                </div>
            </div>
        </div>
    </div>

</div>

<script src="{{SPLUNKWEB_URL_PREFIX}}/config?autoload=1"></script>
<script src="{{SPLUNKWEB_URL_PREFIX}}/static/js/i18n.js"></script>
<script src="{{SPLUNKWEB_URL_PREFIX}}/i18ncatalog?autoload=1"></script>
<script src="{{SPLUNKWEB_URL_PREFIX}}/static/build/simplexml/index.js"></script>
<script src="{{SPLUNKWEB_URL_PREFIX}}/static/js/contrib/bootstrap-2.3.1.min.js"></script>
<script src="{{SPLUNKWEB_URL_PREFIX}}/static/js/contrib/bootstrap-2.3.1/bootstrap-carousel.js"></script>


<script type="text/javascript">
// <![CDATA[
// <![CDATA[
//
// LIBRARY REQUIREMENTS
//
// In the require function, we include the necessary libraries and modules for
// the HTML dashboard. Then, we pass variable names for these libraries and
// modules as function parameters, in order.
// 
// When you add libraries or modules, remember to retain this mapping order
// between the library or module and its function parameter. You can do this by
// adding to the end of these lists, as shown in the commented examples below.

var details = {};
details.knowyourdata = {};
details.knowyourdata.image = "{{SPLUNKWEB_URL_PREFIX}}/static/app/Bender/images/know-data.png";
details.knowyourdata.detail_text = "There are just two key pieces of data required to facilitate use of this visualization.  First, the visualization expects each event to contain a unique part name.  This part name will be used to map state changes to parts in the scene.  Second, each event requires a value that gets applied to the part. You may have to transform your source data to fit this model.  During the component mapping step you will define what type of component the part represents.  The type of value presented in each event depends on the part type defined.  This app comes with an event-gen that produces position data for 2 robots.  The searches and examples used throughout this tutorial reference this data.  You can find this data in the 'robotdata' index.";
details.purposetypes = {};
details.purposetypes.image = "{{SPLUNKWEB_URL_PREFIX}}/static/app/Bender/images/component_types.png";
details.purposetypes.detail_text = "There are currently 5 different types of purposes for components: <ul><li>Rotation: The degrees in radians that the part is rotated from origin.  The part will move from it's current rotation to this position and then stop.</li><li>Constant Rotation: The speed around which the part rotates around the axis.  Once a speed is received, the part will rotate until a zero speed is received.  A good range is -0.1 to +0.1 for now.</li><li>Temperature: Not yet implemented</li><li>Light: Will turn lights on and off.  Intensity is hardcoded for 0 and 5 at this time.  Valid values are 'on' or 'off'</li><li>Door: Will pivot any door or hinge from 0 to the value specified in rotationOffset.</li></ul>";
details.scenebuilder_gettingstarted = {}
details.scenebuilder_gettingstarted.image = "{{SPLUNKWEB_URL_PREFIX}}/static/app/Bender/images/scene_builder_blank.png";
details.scenebuilder_gettingstarted.detail_text = "When you display the results of your search as this visualization, you must specify a scene that is appropriate for those specific results.  You will use the Scene Builder to create these scenes.  During this process you will load your models and position them within a scene.  This can be a simple single model scene, or contain multiple models.  After you create your scene, you will assign your data fields to the model components that will react to your results.";

details.newscene = {}
details.newscene.image = "{{SPLUNKWEB_URL_PREFIX}}/static/app/Bender/images/new_scene.png";
details.newscene.detail_text = "The scene builder can be used to create new or modify existing scenes.  Use the scene name drop-down to select a New Scene.  Enter the name of your scene in the resulting text box and click the Add Scene button.  You will be presented with the ability to add models to the resulting empty scene.";

details.blank_scene = {}
details.blank_scene.image = "{{SPLUNKWEB_URL_PREFIX}}/static/app/Bender/images/scene_builder_new.png";
details.blank_scene.detail_text = "Your empty scene just has an empty landscape and inputs for new models.";

details.addamodel = {}
details.addamodel.image = "{{SPLUNKWEB_URL_PREFIX}}/static/app/Bender/images/new_model.png";
details.addamodel.detail_text = "Each model that is added to the scene must have a unique name.  This will later be used to direct inbound data to the proper component.  Model definitions are store in appserver/static.  They are scene exports from the three.js editor tool in JSON format.  The models can be exported with their own lighting but be aware that those lights will overlap in a scene containing multiple models which can result in washing out the details.  At this time you must type the name of the model data file.  Review the static directory to discover some pre-made models.";

details.darkarm = {}
details.darkarm.image = "{{SPLUNKWEB_URL_PREFIX}}/static/app/Bender/images/dark_arm.png";
details.darkarm.detail_text = "Using the prior screenshot as an example, the resultant scene looks like this screenshot.  The arm is there, but there are no scene lights added by default. ";

details.scenelights = {}
details.scenelights.image = "{{SPLUNKWEB_URL_PREFIX}}/static/app/Bender/images/repeat_for_light.png";
details.scenelights.detail_text = "There is generic scene lighting available.  Add another model to the scene using scenelighting.json as the geometry file.";


details.interacting = {};
details.interacting.image = "{{SPLUNKWEB_URL_PREFIX}}/static/app/Bender/images/translation_buttons.png";
details.interacting.detail_text = "You should notice that the lighting isn't right by default.  It's set too low in the scene to cast light appropriately.  The lights, like every other component in the scene can be moved, rotated, and scaled to your preference.  Clicking on the items in the list of models will select that item in the scene.  Using the buttons above the list will change the tranformation mode.  <span style='font-weight:bold'>NOTE: The scene is not automatically saved after models are changed.  You must click the save button below the model list before leaving the page or adding new models</span>.  If you set the mode to translate and select the light mode, you can use the yellow arrow to drag the lighting up until it illuminates the robot model.";

details.fieldmapping = {}
details.fieldmapping.image = "{{SPLUNKWEB_URL_PREFIX}}/static/app/Bender/images/field_mapping_component_selection.png";
details.fieldmapping.detail_text = "Once your scene is set up the way you want, you have to pair up the data fields to the model components.  In the component field mapping dashboard you can choose your scene and the model that you want to map for.  You will be presented with a list of components in that model.  You will use the fields on the right to define the metdata about each relevant component part.  You must have models that have defined parts with which to interact.  The three.js editor was used to make all of the pre-configured models included with this demo.  Each part used for interaction was appropriately named for easy reference during this step.";

details.fieldvalues = {};
details.fieldvalues.image = "{{SPLUNKWEB_URL_PREFIX}}/static/app/Bender/images/field_mapping_enter_values.png";
details.fieldvalues.detail_text = "After selecting the component you want to map data to, you have to define some criteria about that component.<ul><li>Key: Leave this blank</li><li>Purpose: This defines the behavior of the model in relation to the data.  You can learn more about this in the Value Types section.</li><li>Rotation Offset:  this field is used differently depending on the purpose.  For simple rotations this is the offset from the natural 0 angle, used to calibrate the rotational position with the data.  For doors this is the angle of the door when open</li><li>Data Field: the value of this field should match the 'part' field in your event data.  This is the link between the data and the model. You will notice that the field in this screen shot matches the output in the data discovery phase.</li><li>Unit: not used</li><li>Rotation Axis: used to set which axis rotates for this component.  This is determined during the model building stage and should be noted here (x, y or z are valid values).</li></ul>";

details.fieldedit = {}
details.fieldedit.image = "{{SPLUNKWEB_URL_PREFIX}}/static/app/Bender/images/field_mapping_after_save.png";
details.fieldedit.detail_text = "You can edit fields be selecting the scene, model, and component and then changing whichever value needs to be changed and then clicking the save button.  Do not modify the Key field.  The list of fields displayed below the field mapping inputs is for reference and lists all components mapped for the chosen model.  Repeat the creation of components for every data field available.";


details.thesearch = {}
details.thesearch.image = "{{SPLUNKWEB_URL_PREFIX}}/static/app/Bender/images/initial_viz_search.png";
details.thesearch.detail_text = "The visualization expects a stream of live (or simulated live) data.  The components react in real time with changes in data values.  As illustrated in the screen shot, a simple table containing the part name and value is all that is required to produce the data expected by the visualization.  Either real-time or indexed real-time with a very small window would also be the proper time windowing for use with this viz.  Each event that is returned by the search will be processed by the vizualization.  Each movement can take up to 200ms to complete and a flood of data points can create failures in the rendering. Using the vizualization tab, select this 3D viz, however you will notice that the scene is again blank";

details.scenename = {}
details.scenename.image = "{{SPLUNKWEB_URL_PREFIX}}/static/app/Bender/images/set_viz_scenename.png";
details.scenename.detail_text = "Since each search will provide results that are specific to a scene, you must tell the visualization which scene to use.  Select the format menu from the viz and in the 'Scene Selection' group, enter your scene name in the 'Scene Name' field.  Once changed, the vizualization will load the proper scene.  You may have to run the search again to initiatite the vizualization from the data.";



require([
    "splunkjs/mvc",
    "splunkjs/mvc/utils",
    "splunkjs/mvc/tokenutils",
    "underscore",
    "jquery",
    "splunkjs/mvc/simplexml",
    "splunkjs/mvc/layoutview",
    "splunkjs/mvc/simplexml/dashboardview",
    "splunkjs/mvc/simplexml/dashboard/panelref",
    "splunkjs/mvc/simplexml/element/chart",
    "splunkjs/mvc/simplexml/element/event",
    "splunkjs/mvc/simplexml/element/html",
    "splunkjs/mvc/simplexml/element/list",
    "splunkjs/mvc/simplexml/element/map",
    "splunkjs/mvc/simplexml/element/single",
    "splunkjs/mvc/simplexml/element/table",
    "splunkjs/mvc/simplexml/element/visualization",
    "splunkjs/mvc/simpleform/formutils",
    "splunkjs/mvc/simplexml/eventhandler",
    "splunkjs/mvc/simplexml/searcheventhandler",
    "splunkjs/mvc/simpleform/input/dropdown",
    "splunkjs/mvc/simpleform/input/radiogroup",
    "splunkjs/mvc/simpleform/input/linklist",
    "splunkjs/mvc/simpleform/input/multiselect",
    "splunkjs/mvc/simpleform/input/checkboxgroup",
    "splunkjs/mvc/simpleform/input/text",
    "splunkjs/mvc/simpleform/input/timerange",
    "splunkjs/mvc/simpleform/input/submit",
    "splunkjs/mvc/searchmanager",
    "splunkjs/mvc/savedsearchmanager",
    "splunkjs/mvc/postprocessmanager",
    "splunkjs/mvc/simplexml/urltokenmodel"
    // Add comma-separated libraries and modules manually here, for example:
    // ..."splunkjs/mvc/simplexml/urltokenmodel",
    // "splunkjs/mvc/tokenforwarder"
    ],
    function(
        mvc,
        utils,
        TokenUtils,
        _,
        $,
        DashboardController,
        LayoutView,
        Dashboard,
        PanelRef,
        ChartElement,
        EventElement,
        HtmlElement,
        ListElement,
        MapElement,
        SingleElement,
        TableElement,
        VisualizationElement,
        FormUtils,
        EventHandler,
        SearchEventHandler,
        DropdownInput,
        RadioGroupInput,
        LinkListInput,
        MultiSelectInput,
        CheckboxGroupInput,
        TextInput,
        TimeRangeInput,
        SubmitButton,
        SearchManager,
        SavedSearchManager,
        PostProcessManager,
        UrlTokenModel

        // Add comma-separated parameter names here, for example: 
        // ...UrlTokenModel, 
        // TokenForwarder
        ) {

        var pageLoading = true;


        // 
        // TOKENS
        //
        
        // Create token namespaces
        var urlTokenModel = new UrlTokenModel();
        mvc.Components.registerInstance('url', urlTokenModel);
        var defaultTokenModel = mvc.Components.getInstance('default', {create: true});
        var submittedTokenModel = mvc.Components.getInstance('submitted', {create: true});

        urlTokenModel.on('url:navigate', function() {
            defaultTokenModel.set(urlTokenModel.toJSON());
            if (!_.isEmpty(urlTokenModel.toJSON()) && !_.all(urlTokenModel.toJSON(), _.isUndefined)) {
                submitTokens();
            } else {
                submittedTokenModel.clear();
            }
        });

        // Initialize tokens
        defaultTokenModel.set(urlTokenModel.toJSON());

        function submitTokens() {
            // Copy the contents of the defaultTokenModel to the submittedTokenModel and urlTokenModel
            FormUtils.submitForm({ replaceState: pageLoading });
        }

        function setToken(name, value) {
            defaultTokenModel.set(name, value);
            submittedTokenModel.set(name, value);
        }

        function unsetToken(name) {
            defaultTokenModel.unset(name);
            submittedTokenModel.unset(name);
        }

        
        
        //
        // SEARCH MANAGERS
        //



        //
        // SPLUNK LAYOUT
        //

        $('header').remove();
        new LayoutView({"hideFooter": false, "hideSplunkBar": false, "hideAppBar": false, "hideChrome": false})
            .render()
            .getContainerElement()
            .appendChild($('.dashboard-body')[0]);

        //
        // DASHBOARD EDITOR
        //

        new Dashboard({
            id: 'dashboard',
            el: $('.dashboard-body'),
            showTitle: true,
            editable: true
        }, {tokens: true}).render();


        //
        // VIEWS: VISUALIZATION ELEMENTS
        //

        // Initialize time tokens to default
        if (!defaultTokenModel.has('earliest') && !defaultTokenModel.has('latest')) {
            defaultTokenModel.set({ earliest: '0', latest: '' });
        }

        submitTokens();


        //
        // DASHBOARD READY
        //

        DashboardController.ready();
        pageLoading = false;

    }
);
// ]]>
</script>
</body>
</html>
